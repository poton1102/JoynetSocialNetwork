{"ast":null,"code":"var _jsxFileName = \"D:\\\\JoynetSocialNetwork\\\\do-an-fe\\\\src\\\\components\\\\header\\\\Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getDataAPI } from '../../utils/fetchData';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\nimport UserCard from '../UserCard';\nimport LoadIcon from '../../images/loading.gif';\n// import { AudioOutlined } from '@ant-design/icons';\nimport { Input, Space } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Search: SearchAntd\n} = Input;\nconst Search = () => {\n  _s();\n  const [search, setSearch] = useState('');\n  const [users, setUsers] = useState([]);\n  const {\n    auth\n  } = useSelector(state => state);\n  const dispatch = useDispatch();\n  const [load, setLoad] = useState(false);\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (!search) return;\n    try {\n      setLoad(true);\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\n      setUsers(res.data.users);\n      setLoad(false);\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: {\n          error: err.response.data.msg\n        }\n      });\n    }\n  };\n  const handleClose = () => {\n    setSearch('');\n    setUsers([]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"search_form\",\n      onSubmit: handleSearch,\n      children: [/*#__PURE__*/_jsxDEV(Space, {\n        direction: \"vertical\",\n        children: /*#__PURE__*/_jsxDEV(SearchAntd, {\n          placeholder: \"T\\xECm ki\\u1EBFm ng\\u01B0\\u1EDDi d\\xF9ng\",\n          allowClear: true,\n          enterButton: \"T\\xECm ki\\u1EBFm\",\n          size: \"large\",\n          value: search,\n          onChange: e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"users\",\n        children: search && users.map(user => user._id !== auth.user._id ? /*#__PURE__*/_jsxDEV(UserCard, {\n          user: user,\n          border: \"border\",\n          handleClose: handleClose\n        }, user._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this) : null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Search, \"JwKDujJ0sBqE3s2SQhhu9mTw46w=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useSelector","useDispatch","getDataAPI","GLOBALTYPES","UserCard","LoadIcon","Input","Space","jsxDEV","_jsxDEV","Fragment","_Fragment","Search","SearchAntd","_s","search","setSearch","users","setUsers","auth","state","dispatch","load","setLoad","handleSearch","e","preventDefault","res","token","data","err","type","ALERT","payload","error","response","msg","handleClose","children","className","onSubmit","direction","placeholder","allowClear","enterButton","size","value","onChange","target","toLowerCase","replace","fileName","_jsxFileName","lineNumber","columnNumber","map","user","_id","border","_c","$RefreshReg$"],"sources":["D:/JoynetSocialNetwork/do-an-fe/src/components/header/Search.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getDataAPI } from '../../utils/fetchData'\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\nimport UserCard from '../UserCard'\r\nimport LoadIcon from '../../images/loading.gif'\r\n// import { AudioOutlined } from '@ant-design/icons';\r\nimport { Input, Space } from 'antd';\r\n\r\nconst { Search: SearchAntd } = Input;\r\n\r\nconst Search = () => {\r\n    const [search, setSearch] = useState('')\r\n    const [users, setUsers] = useState([])\r\n\r\n    const { auth } = useSelector(state => state)\r\n    const dispatch = useDispatch()\r\n    const [load, setLoad] = useState(false)\r\n\r\n\r\n    const handleSearch = async (e) => {\r\n        e.preventDefault()\r\n        if (!search) return;\r\n\r\n        try {\r\n            setLoad(true)\r\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\r\n            setUsers(res.data.users)\r\n            setLoad(false)\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT, payload: { error: err.response.data.msg }\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setSearch('')\r\n        setUsers([])\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form className=\"search_form\" onSubmit={handleSearch}>\r\n                <Space direction=\"vertical\">\r\n                    <SearchAntd\r\n                        placeholder=\"Tìm kiếm người dùng\"\r\n                        allowClear\r\n                        enterButton=\"Tìm kiếm\"\r\n                        size=\"large\"\r\n                        value={search}\r\n                        onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))}\r\n\r\n                    />\r\n                </Space>\r\n\r\n                <div className=\"users\">\r\n                    {\r\n                        search && users.map(user => (user._id !== auth.user._id ?\r\n                            <UserCard\r\n                                key={user._id}\r\n                                user={user}\r\n                                border=\"border\"\r\n                                handleClose={handleClose}\r\n                            /> : null\r\n                        )\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {/* <input type=\"text\" name=\"search\" value={search} id=\"search\" title=\"Enter to Search\"\r\n                onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} /> */}\r\n\r\n                {/* <div className=\"search_icon\" style={{ opacity: search ? 0 : 0.3 }}>\r\n                <span className=\"material-icons\">search</span>\r\n                <span>Enter to Search</span>\r\n            </div> */}\r\n\r\n                {/* <div className=\"close_search\" onClick={handleClose}\r\n                style={{ opacity: users.length === 0 ? 0 : 1 }} >\r\n                &times;\r\n            </div> */}\r\n\r\n                {/* <button type=\"submit\" style={{ display: 'none' }}>Search</button> */}\r\n\r\n\r\n\r\n                {/* <div className=\"users\">\r\n                {\r\n                    search && users.map(user => (\r\n                        <UserCard\r\n                            key={user._id}\r\n                            user={user}\r\n                            border=\"border\"\r\n                            handleClose={handleClose}\r\n                        />\r\n                    ))\r\n                }\r\n            </div> */}\r\n            </form>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Search\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU,QAAQ,uBAAuB;AAClD,SAASC,WAAW,QAAQ,iCAAiC;AAC7D,OAAOC,QAAQ,MAAM,aAAa;AAClC,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C;AACA,SAASC,KAAK,EAAEC,KAAK,QAAQ,MAAM;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpC,MAAM;EAAEC,MAAM,EAAEC;AAAW,CAAC,GAAGP,KAAK;AAEpC,MAAMM,MAAM,GAAGA,CAAA,KAAM;EAAAE,EAAA;EACjB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAM;IAAEoB;EAAK,CAAC,GAAGnB,WAAW,CAACoB,KAAK,IAAIA,KAAK,CAAC;EAC5C,MAAMC,QAAQ,GAAGpB,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EAGvC,MAAMyB,YAAY,GAAG,MAAOC,CAAC,IAAK;IAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACX,MAAM,EAAE;IAEb,IAAI;MACAQ,OAAO,CAAC,IAAI,CAAC;MACb,MAAMI,GAAG,GAAG,MAAMzB,UAAU,CAAE,mBAAkBa,MAAO,EAAC,EAAEI,IAAI,CAACS,KAAK,CAAC;MACrEV,QAAQ,CAACS,GAAG,CAACE,IAAI,CAACZ,KAAK,CAAC;MACxBM,OAAO,CAAC,KAAK,CAAC;IAClB,CAAC,CAAC,OAAOO,GAAG,EAAE;MACVT,QAAQ,CAAC;QACLU,IAAI,EAAE5B,WAAW,CAAC6B,KAAK;QAAEC,OAAO,EAAE;UAAEC,KAAK,EAAEJ,GAAG,CAACK,QAAQ,CAACN,IAAI,CAACO;QAAI;MACrE,CAAC,CAAC;IACN;EACJ,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACtBrB,SAAS,CAAC,EAAE,CAAC;IACbE,QAAQ,CAAC,EAAE,CAAC;EAChB,CAAC;EAED,oBACIT,OAAA,CAAAE,SAAA;IAAA2B,QAAA,eACI7B,OAAA;MAAM8B,SAAS,EAAC,aAAa;MAACC,QAAQ,EAAEhB,YAAa;MAAAc,QAAA,gBACjD7B,OAAA,CAACF,KAAK;QAACkC,SAAS,EAAC,UAAU;QAAAH,QAAA,eACvB7B,OAAA,CAACI,UAAU;UACP6B,WAAW,EAAC,0CAAqB;UACjCC,UAAU;UACVC,WAAW,EAAC,kBAAU;UACtBC,IAAI,EAAC,OAAO;UACZC,KAAK,EAAE/B,MAAO;UACdgC,QAAQ,EAAEtB,CAAC,IAAIT,SAAS,CAACS,CAAC,CAACuB,MAAM,CAACF,KAAK,CAACG,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAE5E;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAER7C,OAAA;QAAK8B,SAAS,EAAC,OAAO;QAAAD,QAAA,EAEdvB,MAAM,IAAIE,KAAK,CAACsC,GAAG,CAACC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKtC,IAAI,CAACqC,IAAI,CAACC,GAAG,gBACnDhD,OAAA,CAACL,QAAQ;UAELoD,IAAI,EAAEA,IAAK;UACXE,MAAM,EAAC,QAAQ;UACfrB,WAAW,EAAEA;QAAY,GAHpBmB,IAAI,CAACC,GAAG;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAIhB,CAAC,GAAG,IAET;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OA+BJ;EAAC,gBAET,CAAC;AAEX,CAAC;AAAAxC,EAAA,CA5FKF,MAAM;EAAA,QAISZ,WAAW,EACXC,WAAW;AAAA;AAAA0D,EAAA,GAL1B/C,MAAM;AA8FZ,eAAeA,MAAM;AAAA,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}