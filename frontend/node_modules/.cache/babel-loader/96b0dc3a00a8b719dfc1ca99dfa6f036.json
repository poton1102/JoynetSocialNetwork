{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nconst useIntersection = (callback, options) => {\n  _s();\n  const [node, setNode] = useState(null);\n  const observer = useRef(null);\n  useEffect(() => {\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          callback();\n          // console.log(entry)\n        }\n      });\n    }, options);\n    if (node) observer.current.observe(node);\n    return () => {\n      observer.current.disconnect();\n    };\n  }, [node, options, callback]);\n  return setNode;\n};\n_s(useIntersection, \"rPzSIv3A5DcyMWiJhfhzzjtaoj8=\");\nexport default useIntersection;","map":{"version":3,"names":["React","useState","useEffect","useRef","useIntersection","callback","options","_s","node","setNode","observer","current","disconnect","IntersectionObserver","entries","forEach","entry","isIntersecting","observe"],"sources":["D:/JoynetSocialNetwork/do-an-fe/src/hooks/useIntersectionObserver.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst useIntersection = (callback, options) => {\r\n    const [node, setNode] = useState(null);\r\n    const observer = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (observer.current) observer.current.disconnect();\r\n\r\n        observer.current = new IntersectionObserver((entries) => {\r\n            entries.forEach((entry) => {\r\n                if (entry.isIntersecting) {\r\n                    callback();\r\n                    // console.log(entry)\r\n                }\r\n            });\r\n        }, options);\r\n\r\n        if (node) observer.current.observe(node);\r\n\r\n        return () => {\r\n            observer.current.disconnect();\r\n        };\r\n    }, [node, options, callback]);\r\n\r\n    return setNode;\r\n};\r\n\r\nexport default useIntersection;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAE1D,MAAMC,eAAe,GAAGA,CAACC,QAAQ,EAAEC,OAAO,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMS,QAAQ,GAAGP,MAAM,CAAC,IAAI,CAAC;EAE7BD,SAAS,CAAC,MAAM;IACZ,IAAIQ,QAAQ,CAACC,OAAO,EAAED,QAAQ,CAACC,OAAO,CAACC,UAAU,CAAC,CAAC;IAEnDF,QAAQ,CAACC,OAAO,GAAG,IAAIE,oBAAoB,CAAEC,OAAO,IAAK;MACrDA,OAAO,CAACC,OAAO,CAAEC,KAAK,IAAK;QACvB,IAAIA,KAAK,CAACC,cAAc,EAAE;UACtBZ,QAAQ,CAAC,CAAC;UACV;QACJ;MACJ,CAAC,CAAC;IACN,CAAC,EAAEC,OAAO,CAAC;IAEX,IAAIE,IAAI,EAAEE,QAAQ,CAACC,OAAO,CAACO,OAAO,CAACV,IAAI,CAAC;IAExC,OAAO,MAAM;MACTE,QAAQ,CAACC,OAAO,CAACC,UAAU,CAAC,CAAC;IACjC,CAAC;EACL,CAAC,EAAE,CAACJ,IAAI,EAAEF,OAAO,EAAED,QAAQ,CAAC,CAAC;EAE7B,OAAOI,OAAO;AAClB,CAAC;AAACF,EAAA,CAxBIH,eAAe;AA0BrB,eAAeA,eAAe"},"metadata":{},"sourceType":"module"}