{"ast":null,"code":"var _jsxFileName = \"D:\\\\JoynetSocialNetwork\\\\do-an-fe\\\\src\\\\components\\\\message\\\\ScrollableChat.js\",\n  _s = $RefreshSig$();\nimport Avatar from '@mui/material/Avatar';\nimport Tooltip from '@mui/material/Tooltip';\nimport useTheme from '@mui/material/styles/useTheme';\nimport React from 'react';\nimport { useSelector } from \"react-redux\";\nimport { isLastMessage, isSameSender, isSameSenderMargin, isSameUser } from \"../../utils/chatLogic\";\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ScrollableChat = /*#__PURE__*/React.forwardRef(_c = _s((_ref, ref) => {\n  _s();\n  let {\n    messages,\n    fetchMoreRef,\n    hasMoreMessages\n  } = _ref;\n  const {\n    auth\n  } = useSelector(state => state);\n  const {\n    palette\n  } = useTheme();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      ref: i === messages.length - 1 && hasMoreMessages ? fetchMoreRef : null,\n      children: [(isSameSender(messages, m, i, auth.user._id) || isLastMessage(messages, i, auth.user._id)) && /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: m.sender.username,\n        placement: \"bottom-start\",\n        arrow: true,\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            width: 24,\n            height: 24,\n            cursor: 'pointer',\n            marginTop: '8px',\n            marginRight: '9px'\n          },\n          alt: m.sender.username,\n          src: m.sender.avatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: moment(m.createdAt).fromNow(),\n        placement: \"bottom-start\",\n        arrow: true,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            backgroundColor: `${m.sender._id === auth.user._id ? palette.primary.light : palette.primary.main}`,\n            marginLeft: isSameSenderMargin(messages, m, i, auth.user._id),\n            marginTop: isSameUser(messages, m, i, auth.user._id) ? 3 : 10,\n            borderRadius: \"20px\",\n            padding: \"5px 15px\",\n            maxWidth: \"75%\"\n          },\n          children: m.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this)]\n    }, m._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 17\n    }, this))\n  }, void 0, false);\n}, \"D+c9FqIO2lORMgVevQiuTnQZAXk=\", false, function () {\n  return [useSelector, useTheme];\n}));\n_c2 = ScrollableChat;\nexport default ScrollableChat;\nvar _c, _c2;\n$RefreshReg$(_c, \"ScrollableChat$React.forwardRef\");\n$RefreshReg$(_c2, \"ScrollableChat\");","map":{"version":3,"names":["Avatar","Tooltip","useTheme","React","useSelector","isLastMessage","isSameSender","isSameSenderMargin","isSameUser","moment","jsxDEV","_jsxDEV","Fragment","_Fragment","ScrollableChat","forwardRef","_c","_s","_ref","ref","messages","fetchMoreRef","hasMoreMessages","auth","state","palette","children","map","m","i","style","display","length","user","_id","title","sender","username","placement","arrow","sx","width","height","cursor","marginTop","marginRight","alt","src","avatar","fileName","_jsxFileName","lineNumber","columnNumber","createdAt","fromNow","backgroundColor","primary","light","main","marginLeft","borderRadius","padding","maxWidth","content","_c2","$RefreshReg$"],"sources":["D:/JoynetSocialNetwork/do-an-fe/src/components/message/ScrollableChat.js"],"sourcesContent":["import Avatar from '@mui/material/Avatar';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport useTheme from '@mui/material/styles/useTheme';\r\nimport React from 'react';\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n    isLastMessage,\r\n    isSameSender,\r\n    isSameSenderMargin,\r\n    isSameUser,\r\n} from \"../../utils/chatLogic\";\r\nimport moment from 'moment';\r\n\r\nconst ScrollableChat = React.forwardRef(({ messages, fetchMoreRef, hasMoreMessages }, ref) => {\r\n    const { auth } = useSelector(state => state);\r\n    const { palette } = useTheme()\r\n\r\n    return (\r\n        <>\r\n            {messages.map((m, i) => (\r\n                <div style={{ display: \"flex\" }} key={m._id} ref={(i === messages.length - 1 && hasMoreMessages) ? fetchMoreRef : null}>\r\n                    {(isSameSender(messages, m, i, auth.user._id) ||\r\n                        isLastMessage(messages, i, auth.user._id)) && (\r\n                            <Tooltip title={m.sender.username} placement=\"bottom-start\" arrow>\r\n                                <Avatar\r\n                                    sx={{\r\n                                        width: 24, height: 24, cursor: 'pointer', marginTop: '8px',\r\n                                        marginRight: '9px',\r\n                                    }}\r\n                                    alt={m.sender.username}\r\n                                    src={m.sender.avatar}\r\n                                />\r\n                            </Tooltip>\r\n                        )}\r\n                    <Tooltip title={moment(m.createdAt).fromNow()} placement=\"bottom-start\" arrow>\r\n                        <span\r\n                            style={{\r\n                                backgroundColor: `${m.sender._id === auth.user._id ? palette.primary.light : palette.primary.main\r\n                                    }`,\r\n                                marginLeft: isSameSenderMargin(messages, m, i, auth.user._id),\r\n                                marginTop: isSameUser(messages, m, i, auth.user._id) ? 3 : 10,\r\n                                borderRadius: \"20px\",\r\n                                padding: \"5px 15px\",\r\n                                maxWidth: \"75%\",\r\n                            }}\r\n                        >\r\n                            {m.content}\r\n                        </span>\r\n\r\n                    </Tooltip>\r\n                </div>\r\n            ))}\r\n        </>\r\n    );\r\n});\r\n\r\nexport default ScrollableChat;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}